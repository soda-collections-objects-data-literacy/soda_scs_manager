{#
/**
 * @file
 * Default theme implementation for SODa SCS Manager catalogue page.
 *
 * Available variables:
 * - attributes: HTML attributes for the container.
 * @ingroup themeable
 */
#}
{% set all_tags = ['cms', 'database', 'filesharing', 'ontology', 'publishing', 'triplestore'] %}

<div class="soda-scs-manager--tag-filter-container p-2 rounded-lg align-center justify-center">
  <h3 class="text-stone-200 text-2xl font-bold p-1 text-center m-1 my-1">{{ 'Filter by Tags'|t }}</h3>
  <div class="soda-scs-manager--tag-filter flex flex-wrap gap-2 justify-center" data-active-tags="[]">
    {% for tag in all_tags|sort %}
      <button class="soda-scs-manager--tag-filter-button rounded-full px-3 py-1.5 text-sm flex items-center gap-1.5 cursor-pointer transition-all
        {% if tag == 'cms' %}
          bg-blue-100 text-blue-700 hover:bg-blue-200
        {% elseif tag == 'database' %}
          bg-emerald-100 text-emerald-700 hover:bg-emerald-200
        {% elseif tag == 'data-cleaning' %}
          bg-green-100 text-green-700 hover:bg-green-200
        {% elseif tag == 'data-science' %}
          bg-teal-100 text-teal-700 hover:bg-teal-200
        {% elseif tag == 'filesharing' %}
          bg-cyan-100 text-cyan-700 hover:bg-cyan-200
        {% elseif tag == 'ontology' %}
          bg-indigo-100 text-indigo-700 hover:bg-indigo-200
        {% elseif tag == 'publishing' %}
          bg-amber-100 text-amber-700 hover:bg-amber-200
        {% elseif tag == 'office' %}
          bg-orange-100 text-orange-700 hover:bg-orange-200
        {% elseif tag == 'triplestore' %}
          bg-lime-100 text-lime-700 hover:bg-lime-200
        {% else %}
          bg-stone-100 text-stone-700 hover:bg-stone-200
        {% endif %}" data-tag="{{ tag }}">
        {{ tag|t }}
        <span class="soda-scs-manager--tag-remove hidden">Ã—</span>
      </button>
    {% endfor %}
  </div>
</div>

<h2 class="center text-center text-stone-200 text-8xl font-bold mb-10" id="applications">{{ 'Applications'|t }}</h2>

{% set all_applications = stacks|merge(components) %}
{% if all_applications is not empty %}
  {% set application_count = all_applications|length %}
  {% set grid_class = 'grid-count-' ~ application_count %}

  <div {{ attributes.addClass(grid_class) }} class="soda-scs-manager--view--grid">
    {% for entity in all_applications %}
      {{ entity }}
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-info opacity-20 bg-slate-950 border-2 border-stone-200 border-cyan-500 p-4 rounded-lg text-center">
    <p class="text-stone-200 text-xl">{{ 'No applications available.'|t }}</p>
  </div>
{% endif %}
