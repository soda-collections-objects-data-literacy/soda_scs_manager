# @todo clean unnessary service arguments
services:
  # Helpers
  soda_scs_manager.actions.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsActionsHelper
    arguments:
      - '@soda_scs_manager.sql_component.actions'
      - '@soda_scs_manager.triplestore_component.actions'
      - '@soda_scs_manager.wisski_component.actions'

  soda_scs_manager.component.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsComponentHelpers
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.opengdb_service.actions'
      - '@soda_scs_manager.portainer_service.actions'
      - '@soda_scs_manager.service.helpers'
      - '@soda_scs_manager.sql_service.actions'
      - '@string_translation'

  soda_scs_manager.container.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsContainerHelpers
    arguments:
      - '@logger.factory'
      - '@soda_scs_manager.docker_run_service.actions'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.helpers'

  soda_scs_manager.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsHelpers
    arguments:
      - '@string_translation'

  soda_scs_manager.keycloak_service.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsKeycloakHelpers
    arguments:
      - '@soda_scs_manager.keycloak_service.group.actions'
      - '@soda_scs_manager.keycloak_service.user.actions'

  soda_scs_manager.project.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsProjectHelpers
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
      - '@externalauth.authmap'
      - '@soda_scs_manager.service.helpers'
      - '@soda_scs_manager.keycloak_service.client.actions'
      - '@soda_scs_manager.keycloak_service.group.actions'
      - '@soda_scs_manager.keycloak_service.user.actions'

  soda_scs_manager.service.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsServiceHelpers
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@entity_type.manager'
      - '@logger.factory'
      - '@messenger'
      - '@string_translation'

  soda_scs_manager.snapshot.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsSnapshotHelpers
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
      - '@file_system'
      - '@logger.factory'
      - '@request_stack'
      - '@soda_scs_manager.component.helpers'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.docker_run_service.actions'
      - '@transliteration'

  soda_scs_manager.snapshot.integrity.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsSnapshotIntegrityHelpers
    arguments:
      - '@entity_type.manager'
      - '@logger.factory'
      - '@messenger'

  soda_scs_manager.stack.helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsStackHelpers
    arguments:
      - '@messenger'
      - '@string_translation'

  soda_scs_manager.triplestore_helpers:
    class: Drupal\soda_scs_manager\Helpers\SodaScsTriplestoreHelpers
    arguments:
      - '@logger.factory'
      - '@soda_scs_manager.opengdb_service.actions'
      - '@soda_scs_manager.snapshot.helpers'

  # Docker registry actions

  soda_scs_manager.docker_registry_service.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsDockerRegistryServiceActions
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@string_translation'

  # Component actions
  soda_scs_manager.component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsComponentActions
    arguments:
      - '@entity_type.manager'
      - '@soda_scs_manager.filesystem_component.actions'
      - '@soda_scs_manager.sql_component.actions'
      - '@soda_scs_manager.triplestore_component.actions'
      - '@soda_scs_manager.wisski_component.actions'
      - '@soda_scs_manager.webprotege_component.actions'
      - '@string_translation'

  soda_scs_manager.filesystem_component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsFilesystemComponentActions
    arguments:
      - '@config.factory'
      - '@entity_type.bundle.info'
      - '@entity_type.manager'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.portainer_service.actions'
      - '@soda_scs_manager.service_key.actions'
      - '@soda_scs_manager.sql_service.actions'
      - '@soda_scs_manager.stack.helpers'
      - '@string_translation'

  soda_scs_manager.snapshot.actions:
    class: Drupal\soda_scs_manager\SnapshotActions\SodaScsSnapshotActions
    arguments:
      - '@entity_type.manager'
      - '@file_system'
      - '@soda_scs_manager.actions.helpers'
      - '@soda_scs_manager.component.actions'
      - '@soda_scs_manager.snapshot.helpers'

  soda_scs_manager.sql_component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsSqlComponentActions
    arguments:
      - '@entity_type.bundle.info'
      - '@config.factory'
      - '@database'
      - '@entity_type.manager'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.component.helpers'
      - '@soda_scs_manager.container.helpers'
      - '@soda_scs_manager.helpers'
      - '@soda_scs_manager.snapshot.helpers'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.docker_run_service.actions'
      - '@soda_scs_manager.sql_service.actions'
      - '@soda_scs_manager.service_key.actions'
      - '@string_translation'

  soda_scs_manager.triplestore_component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsTriplestoreComponentActions
    arguments:
      - '@config.factory'
      - '@entity_type.manager'
      - '@entity_type.bundle.info'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.opengdb_service.actions'
      - '@soda_scs_manager.docker_run_service.actions'
      - '@soda_scs_manager.service_key.actions'
      - '@soda_scs_manager.snapshot.helpers'
      - '@soda_scs_manager.triplestore_helpers'

  soda_scs_manager.wisski_component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsWisskiComponentActions
    arguments:
      - '@entity_type.bundle.info'
      - '@config.factory'
      - '@database'
      - '@entity_type.manager'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@file_system'
      - '@soda_scs_manager.component.helpers'
      - '@soda_scs_manager.container.helpers'
      - '@soda_scs_manager.helpers'
      - '@soda_scs_manager.docker_exec_service.actions'
      - '@soda_scs_manager.docker_run_service.actions'
      - '@soda_scs_manager.keycloak_service.helpers'
      - '@soda_scs_manager.keycloak_service.client.actions'
      - '@soda_scs_manager.keycloak_service.group.actions'
      - '@soda_scs_manager.keycloak_service.user.actions'
      - '@soda_scs_manager.portainer_service.actions'
      - '@soda_scs_manager.project.helpers'
      - '@soda_scs_manager.service.helpers'
      - '@soda_scs_manager.service_key.actions'
      - '@soda_scs_manager.snapshot.helpers'
      - '@soda_scs_manager.sql_service.actions'
      - '@soda_scs_manager.stack.helpers'
      - '@string_translation'

  soda_scs_manager.webprotege_component.actions:
    class: Drupal\soda_scs_manager\ComponentActions\SodaScsWebprotegeComponentActions
    arguments:
      - '@entity_type.manager'
      - '@logger.factory'
      - '@messenger'
      - '@string_translation'

  # Service key actions
  soda_scs_manager.service_key.actions:
    class: Drupal\soda_scs_manager\ServiceKeyActions\SodaScsServiceKeyActions
    arguments:
      - '@entity_type.manager'
      - '@soda_scs_manager.opengdb_service.actions'

  # Service actions

  soda_scs_manager.docker_exec_service.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsDockerExecServiceActions
    arguments:
        - '@config.factory'
        - '@database'
        - '@entity_type.manager'
        - '@http_client'
        - '@language_manager'
        - '@logger.factory'
        - '@messenger'
        - '@request_stack'
        - '@soda_scs_manager.service.helpers'
        - '@soda_scs_manager.portainer_service.actions'
        - '@soda_scs_manager.sql_service.actions'
        - '@string_translation'
        - '@twig'

  soda_scs_manager.docker_run_service.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsDockerRunServiceActions
    arguments:
      - '@config.factory'
      - '@database'
      - '@entity_type.manager'
      - '@http_client'
      - '@language_manager'
      - '@logger.factory'
      - '@messenger'
      - '@request_stack'
      - '@soda_scs_manager.service.helpers'
      - '@soda_scs_manager.portainer_service.actions'
      - '@soda_scs_manager.sql_service.actions'
      - '@string_translation'
      - '@twig'

  soda_scs_manager.docker_volumes_service.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsDockerVolumesServiceActions
    arguments:
        - '@config.factory'
        - '@database'
        - '@entity_type.manager'
        - '@http_client'
        - '@language_manager'
        - '@logger.factory'
        - '@messenger'
        - '@request_stack'
        - '@soda_scs_manager.service.helpers'
        - '@soda_scs_manager.portainer_service.actions'
        - '@soda_scs_manager.sql_service.actions'
        - '@string_translation'
        - '@twig'

  ## Keycloak service actions
  soda_scs_manager.keycloak_service.client.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsKeycloakServiceClientActions
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@entity_type.manager'
      - '@messenger'
      - '@request_stack'
      - '@logger.factory'
      - '@soda_scs_manager.service.helpers'
      - '@string_translation'

  soda_scs_manager.keycloak_service.group.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsKeycloakServiceGroupActions
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@entity_type.manager'
      - '@messenger'
      - '@request_stack'
      - '@logger.factory'
      - '@soda_scs_manager.service.helpers'
      - '@string_translation'

  soda_scs_manager.keycloak_service.user.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsKeycloakServiceUserActions
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@entity_type.manager'
      - '@messenger'
      - '@request_stack'
      - '@logger.factory'
      - '@soda_scs_manager.service.helpers'
      - '@string_translation'

  soda_scs_manager.opengdb_service.actions:
    class: Drupal\soda_scs_manager\RequestActions\SodaScsOpenGdbServiceActions
    arguments:
      - '@config.factory'
      - '@http_client'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.service.helpers'
      - '@string_translation'

  soda_scs_manager.portainer_service.actions:
      class: Drupal\soda_scs_manager\RequestActions\SodaScsPortainerServiceActions
      arguments:
        - '@config.factory'
        - '@database'
        - '@entity_type.manager'
        - '@http_client'
        - '@language_manager'
        - '@logger.factory'
        - '@plugin.manager.mail'
        - '@messenger'
        - '@request_stack'
        - '@soda_scs_manager.service.helpers'
        - '@soda_scs_manager.sql_service.actions'
        - '@string_translation'
        - '@twig'

  soda_scs_manager.sql_service.actions:
    class: Drupal\soda_scs_manager\ServiceActions\SodaScsSqlServiceActions
    arguments:
      - '@config.factory'
      - '@database'
      - '@entity_type.manager'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.service.helpers'
      - '@string_translation'

# Stack actions
  soda_scs_manager.stack.actions:
    class: Drupal\soda_scs_manager\StackActions\SodaScsStackActions
    arguments:
      - '@soda_scs_manager.jupyter_stack.actions'
      - '@soda_scs_manager.nextcloud_stack.actions'
      - '@soda_scs_manager.wisski_stack.actions'
      - '@string_translation'

  soda_scs_manager.jupyter_stack.actions:
    class: Drupal\soda_scs_manager\StackActions\SodaScsJupyterStackActions
    arguments:
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.stack.helpers'
      - '@string_translation'

  soda_scs_manager.nextcloud_stack.actions:
    class: Drupal\soda_scs_manager\StackActions\SodaScsNextcloudStackActions
    arguments:
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.stack.helpers'
      - '@string_translation'

  soda_scs_manager.wisski_stack.actions:
    class: Drupal\soda_scs_manager\StackActions\SodaScsWisskiStackActions
    arguments:
      - '@config.factory'
      - '@database'
      - '@entity_type.bundle.info'
      - '@entity_type.manager'
      - '@file_system'
      - '@logger.factory'
      - '@messenger'
      - '@soda_scs_manager.component.actions'
      - '@soda_scs_manager.sql_component.actions'
      - '@soda_scs_manager.triplestore_component.actions'
      - '@soda_scs_manager.wisski_component.actions'
      - '@soda_scs_manager.sql_service.actions'
      - '@soda_scs_manager.service_key.actions'
      - '@soda_scs_manager.portainer_service.actions'
      - '@soda_scs_manager.snapshot.actions'
      - '@soda_scs_manager.snapshot.helpers'
      - '@soda_scs_manager.stack.helpers'
      - '@string_translation'

# Subscriber
  # Deny access to the user.register and user.pass routes
  soda_scs_manager.disable_drupal_login_route_subscriber:
    class: Drupal\soda_scs_manager\Routing\SodaScsDisableDrupalLoginRouteSubscriber
    tags:
      - { name: event_subscriber }
